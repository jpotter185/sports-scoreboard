// Local team logo storage - organized by league to avoid conflicts
// Using team names instead of IDs to ensure correct logo matching
export const nflLogos: Record<string, string> = {
  'new england patriots': 'https://a.espncdn.com/i/teamlogos/nfl/500/ne.png',
  'buffalo bills': 'https://a.espncdn.com/i/teamlogos/nfl/500/buf.png',
  'new york jets': 'https://a.espncdn.com/i/teamlogos/nfl/500/nyj.png',
  'miami dolphins': 'https://a.espncdn.com/i/teamlogos/nfl/500/mia.png',
  'baltimore ravens': 'https://a.espncdn.com/i/teamlogos/nfl/500/bal.png',
  'cincinnati bengals': 'https://a.espncdn.com/i/teamlogos/nfl/500/cin.png',
  'cleveland browns': 'https://a.espncdn.com/i/teamlogos/nfl/500/cle.png',
  'pittsburgh steelers': 'https://a.espncdn.com/i/teamlogos/nfl/500/pit.png',
  'houston texans': 'https://a.espncdn.com/i/teamlogos/nfl/500/hou.png',
  'indianapolis colts': 'https://a.espncdn.com/i/teamlogos/nfl/500/ind.png',
  'jacksonville jaguars': 'https://a.espncdn.com/i/teamlogos/nfl/500/jax.png',
  'tennessee titans': 'https://a.espncdn.com/i/teamlogos/nfl/500/ten.png',
  'denver broncos': 'https://a.espncdn.com/i/teamlogos/nfl/500/den.png',
  'kansas city chiefs': 'https://a.espncdn.com/i/teamlogos/nfl/500/kc.png',
  'las vegas raiders': 'https://a.espncdn.com/i/teamlogos/nfl/500/lv.png',
  'los angeles chargers': 'https://a.espncdn.com/i/teamlogos/nfl/500/lac.png',
  'dallas cowboys': 'https://a.espncdn.com/i/teamlogos/nfl/500/dal.png',
  'new york giants': 'https://a.espncdn.com/i/teamlogos/nfl/500/nyg.png',
  'philadelphia eagles': 'https://a.espncdn.com/i/teamlogos/nfl/500/phi.png',
  'washington commanders': 'https://a.espncdn.com/i/teamlogos/nfl/500/wsh.png',
  'chicago bears': 'https://a.espncdn.com/i/teamlogos/nfl/500/chi.png',
  'detroit lions': 'https://a.espncdn.com/i/teamlogos/nfl/500/det.png',
  'green bay packers': 'https://a.espncdn.com/i/teamlogos/nfl/500/gb.png',
  'minnesota vikings': 'https://a.espncdn.com/i/teamlogos/nfl/500/min.png',
  'atlanta falcons': 'https://a.espncdn.com/i/teamlogos/nfl/500/atl.png',
  'carolina panthers': 'https://a.espncdn.com/i/teamlogos/nfl/500/car.png',
  'new orleans saints': 'https://a.espncdn.com/i/teamlogos/nfl/500/no.png',
  'tampa bay buccaneers': 'https://a.espncdn.com/i/teamlogos/nfl/500/tb.png',
  'arizona cardinals': 'https://a.espncdn.com/i/teamlogos/nfl/500/ari.png',
  'los angeles rams': 'https://a.espncdn.com/i/teamlogos/nfl/500/lar.png',
  'san francisco 49ers': 'https://a.espncdn.com/i/teamlogos/nfl/500/sf.png',
  'seattle seahawks': 'https://a.espncdn.com/i/teamlogos/nfl/500/sea.png',
};

export const mlbLogos: Record<string, string> = {
  'new york yankees': 'https://a.espncdn.com/i/teamlogos/mlb/500/nyy.png',
  'boston red sox': 'https://a.espncdn.com/i/teamlogos/mlb/500/bos.png',
  'toronto blue jays': 'https://a.espncdn.com/i/teamlogos/mlb/500/tor.png',
  'tampa bay rays': 'https://a.espncdn.com/i/teamlogos/mlb/500/tb.png',
  'baltimore orioles': 'https://a.espncdn.com/i/teamlogos/mlb/500/bal.png',
  'cleveland guardians': 'https://a.espncdn.com/i/teamlogos/mlb/500/cle.png',
  'detroit tigers': 'https://a.espncdn.com/i/teamlogos/mlb/500/det.png',
  'kansas city royals': 'https://a.espncdn.com/i/teamlogos/mlb/500/kc.png',
  'minnesota twins': 'https://a.espncdn.com/i/teamlogos/mlb/500/min.png',
  'chicago white sox': 'https://a.espncdn.com/i/teamlogos/mlb/500/cws.png',
  'houston astros': 'https://a.espncdn.com/i/teamlogos/mlb/500/hou.png',
  'texas rangers': 'https://a.espncdn.com/i/teamlogos/mlb/500/tex.png',
  'oakland athletics': 'https://a.espncdn.com/i/teamlogos/mlb/500/oak.png',
  'los angeles angels': 'https://a.espncdn.com/i/teamlogos/mlb/500/laa.png',
  'seattle mariners': 'https://a.espncdn.com/i/teamlogos/mlb/500/sea.png',
  'atlanta braves': 'https://a.espncdn.com/i/teamlogos/mlb/500/atl.png',
  'miami marlins': 'https://a.espncdn.com/i/teamlogos/mlb/500/mia.png',
  'new york mets': 'https://a.espncdn.com/i/teamlogos/mlb/500/nyM.png',
  'philadelphia phillies': 'https://a.espncdn.com/i/teamlogos/mlb/500/phi.png',
  'washington nationals': 'https://a.espncdn.com/i/teamlogos/mlb/500/wsh.png',
  'chicago cubs': 'https://a.espncdn.com/i/teamlogos/mlb/500/chc.png',
  'cincinnati reds': 'https://a.espncdn.com/i/teamlogos/mlb/500/cin.png',
  'milwaukee brewers': 'https://a.espncdn.com/i/teamlogos/mlb/500/mil.png',
  'pittsburgh pirates': 'https://a.espncdn.com/i/teamlogos/mlb/500/pit.png',
  'st. louis cardinals': 'https://a.espncdn.com/i/teamlogos/mlb/500/stl.png',
  'arizona diamondbacks': 'https://a.espncdn.com/i/teamlogos/mlb/500/ari.png',
  'colorado rockies': 'https://a.espncdn.com/i/teamlogos/mlb/500/col.png',
  'los angeles dodgers': 'https://a.espncdn.com/i/teamlogos/mlb/500/lad.png',
  'san diego padres': 'https://a.espncdn.com/i/teamlogos/mlb/500/sd.png',
  'san francisco giants': 'https://a.espncdn.com/i/teamlogos/mlb/500/sf.png',
};

export const eplLogos: Record<string, string> = {
  'arsenal': 'https://a.espncdn.com/i/teamlogos/soccer/500/359.png',
  'aston villa': 'https://a.espncdn.com/i/teamlogos/soccer/500/367.png',
  'bournemouth': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'brentford': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'brighton': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'burnley': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'chelsea': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'crystal palace': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'everton': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'fulham': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'liverpool': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'luton town': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'manchester city': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'manchester united': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'newcastle united': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'nottingham forest': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'sheffield united': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'tottenham hotspur': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'west ham united': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
  'wolverhampton': 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png',
};

export const mlsLogos: Record<string, string> = {
  'atlanta united': 'https://a.espncdn.com/i/teamlogos/soccer/500/18418.png',
  'austin fc': 'https://a.espncdn.com/i/teamlogos/soccer/500/20906.png',
  'charlotte fc': 'https://a.espncdn.com/i/teamlogos/soccer/500/21300.png',
  'chicago fire': 'https://a.espncdn.com/i/teamlogos/soccer/500/182.png',
  'colorado rapids': 'https://a.espncdn.com/i/teamlogos/soccer/500/184.png',
  'columbus crew': 'https://a.espncdn.com/i/teamlogos/soccer/500/183.png',
  'dc united': 'https://a.espncdn.com/i/teamlogos/soccer/500/185.png',
  'fc cincinnati': 'https://a.espncdn.com/i/teamlogos/soccer/500/21811.png',
  'fc dallas': 'https://a.espncdn.com/i/teamlogos/soccer/500/187.png',
  'houston dynamo': 'https://a.espncdn.com/i/teamlogos/soccer/500/188.png',
  'inter miami cf': 'https://a.espncdn.com/i/teamlogos/soccer/500/21810.png',
  'la galaxy': 'https://a.espncdn.com/i/teamlogos/soccer/500/189.png',
  'los angeles fc': 'https://a.espncdn.com/i/teamlogos/soccer/500/21809.png',
  'minnesota united': 'https://a.espncdn.com/i/teamlogos/soccer/500/21808.png',
  'cf montreal': 'https://a.espncdn.com/i/teamlogos/soccer/500/9720.png',
  'nashville sc': 'https://a.espncdn.com/i/teamlogos/soccer/500/21807.png',
  'new england revolution': 'https://a.espncdn.com/i/teamlogos/soccer/500/190.png',
  'new york city fc': 'https://a.espncdn.com/i/teamlogos/soccer/500/21806.png',
  'new york red bulls': 'https://a.espncdn.com/i/teamlogos/soccer/500/191.png',
  'orlando city sc': 'https://a.espncdn.com/i/teamlogos/soccer/500/21805.png',
  'philadelphia union': 'https://a.espncdn.com/i/teamlogos/soccer/500/192.png',
  'portland timbers': 'https://a.espncdn.com/i/teamlogos/soccer/500/193.png',
  'real salt lake': 'https://a.espncdn.com/i/teamlogos/soccer/500/194.png',
  'san jose earthquakes': 'https://a.espncdn.com/i/teamlogos/soccer/500/195.png',
  'seattle sounders': 'https://a.espncdn.com/i/teamlogos/soccer/500/9726.png',
  'sporting kansas city': 'https://a.espncdn.com/i/teamlogos/soccer/500/186.png',
  'toronto fc': 'https://a.espncdn.com/i/teamlogos/soccer/500/7318.png',
  'vancouver whitecaps': 'https://a.espncdn.com/i/teamlogos/soccer/500/9727.png',
  'st. louis city sc': 'https://a.espncdn.com/i/teamlogos/soccer/500/21812.png',
};

// Function to get logo by league and team name
export function getTeamLogoByLeague(league: string, teamId: string, espnLogo?: string): string {
  // First priority: Use ESPN logo from API if available
  if (espnLogo && espnLogo !== 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png') {
    return espnLogo;
  }
  
  // Second priority: Try to get logo by team name
  const teamName = getTeamNameFromId(teamId, league);
  if (teamName) {
    const logo = getLogoByName(teamName, league);
    if (logo) {
      return logo;
    }
  }
  
  // Final fallback to a generic logo
  return 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png';
}

// Helper function to get team name from ID (this would need to be populated with actual ESPN team IDs)
function getTeamNameFromId(teamId: string, league: string): string | null {
  // This is a placeholder - in practice, you'd need to map ESPN team IDs to team names
  // For now, we'll rely on the team name from the API response
  return null;
}

// Helper function to get logo by team name and league
function getLogoByName(teamName: string, league: string): string | null {
  const normalizedName = teamName.toLowerCase();
  
  switch (league.toLowerCase()) {
    case 'nfl':
      return nflLogos[normalizedName] || null;
    case 'mlb':
      return mlbLogos[normalizedName] || null;
    case 'epl':
      return eplLogos[normalizedName] || null;
    case 'mls':
      return mlsLogos[normalizedName] || null;
    default:
      return null;
  }
}

// Function to get logo by team name and city (for when we don't have the league context)
export function getTeamLogoByName(teamName: string, city: string): string {
  const fullName = `${city} ${teamName}`.toLowerCase();
  
  // Try all leagues
  if (nflLogos[fullName]) return nflLogos[fullName];
  if (mlbLogos[fullName]) return mlbLogos[fullName];
  if (eplLogos[fullName]) return eplLogos[fullName];
  if (mlsLogos[fullName]) return mlsLogos[fullName];
  
  // Return generic logo if no match found
  return 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png';
}

// Legacy function for backward compatibility
export function getTeamLogo(teamId: string, espnLogo?: string): string {
  // Try all leagues (fallback method)
  if (nflLogos[teamId]) return nflLogos[teamId];
  if (mlbLogos[teamId]) return mlbLogos[teamId];
  if (eplLogos[teamId]) return eplLogos[teamId];
  if (mlsLogos[teamId]) return mlsLogos[teamId];
  
  // Fallback to ESPN logo if available
  if (espnLogo) return espnLogo;
  
  // Final fallback to generic logo
  return 'https://a.espncdn.com/i/teamlogos/soccer/500/349.png';
}
